@use 'sass:math';
@use 'sass:color';
@import 'mixins';

$chat_width: 800px;
$small_length: 32px;
$small_margin: 8px;
$scrollbar_width: calc($small_length / 2);
$prompt_height: calc($small_length + 2 * $small_margin);
$prompt_full_height: calc($prompt_height + $small_margin * 4 + 5px);
$header_height: $prompt_full_height;
$border_radius: $small_margin;

$p: 1rem;
$h1: 2.5rem;
h1 { font-size: $h1; }
h2 { font-size: calc($h1 / 1.333); }
h3 { font-size: calc($h1 / (1.333 * 1.333)); }

.chat_container {
    width: 100vw;
    height: 100dvh;
    padding-top: $header_height;
    .webuilder-container {
        width: 100%;
        height: calc(100% - $prompt_full_height);
        width: $chat_width;
        margin: 0 calc((100vw - $chat_width) / 2);
        font-size: $p;
    
        * {
            text-wrap: wrap;
            word-wrap: break-word;
        }
    }
}

.webview {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    &[hidden] {
        display: none;
    }
}

.prompt-container {
    width: 100% !important;
}

.prompt {
    width: $chat_width !important;
}

.text-input {
    display: inline-grid !important;
    vertical-align: top;
    align-items: center;
    position: relative;
    align-items: stretch;
    height: auto;
    max-height: 50vh;
    &::after,
    textarea {
        grid-area: 2 / 1;
        margin: 0;
        resize: none;
        background: none;
        appearance: none;
        border: none;
        color: var(--text-color);
        overflow-y: auto;
    }

    textarea:focus {
        border: none;
        outline: none;
    }

    &::after {
        content: attr(data-value) ' ';
        color: var(--text-color);
        visibility: hidden;
        white-space: pre-wrap;
        // max-height: 40vh;
        // text-wrap: wrap;
    }

}